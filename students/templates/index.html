{% extends 'base.html' %}
{% load static %}
{% block content %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<div class="container-fluid">
  <div class="d-sm-flex justify-content-between align-items-center mb-4">
    <h3 class="text-dark mb-0">Dashboard</h3><a class="btn btn-primary btn-sm d-none d-sm-inline-block" role="button"
      href="#"><i class="fas fa-download fa-sm text-white-50"></i>&nbsp;Generate Report</a>
  </div>
  {% if user.is_student or user.is_superuser %}

  <div class="row">
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-left-primary py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col mr-2">
              <div class="text-uppercase text-primary font-weight-bold text-xs mb-1"><span>no of tests
                  taken</span></div>
              <div class="text-dark font-weight-bold h5 mb-0"><span>90</span></div>
            </div>
            <div class="col-auto"><i class="fas fa-calendar fa-2x text-gray-300"></i></div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-left-success py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col mr-2">
              <div class="text-uppercase text-success font-weight-bold text-xs mb-1"><span>no of tests
                  missed</span></div>
              <div class="text-dark font-weight-bold h5 mb-0"><span>5</span></div>
            </div>
            <div class="col-auto"><i class="fas fa-minus-square fa-2x text-gray-300"></i></div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-left-info py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col mr-2">
              <div class="text-uppercase text-info font-weight-bold text-xs mb-1"><span>success
                  rate</span></div>
              <div class="row no-gutters align-items-center">
                <div class="col-auto">
                  <div class="text-dark font-weight-bold h5 mb-0 mr-3"><span>50%</span></div>
                </div>
                <div class="col">
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-info" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"
                      style="width: 50%;"><span class="sr-only">50%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-auto"><i class="fas fa-clipboard-list fa-2x text-gray-300"></i></div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-left-warning py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col mr-2">
              <div class="text-uppercase text-warning font-weight-bold text-xs mb-1"><span>No of tests
                  aced</span></div>
              <div class="text-dark font-weight-bold h5 mb-0"><span>18</span></div>
            </div>
            <div class="col-auto"><i class="fas fa-comments fa-2x text-gray-300"></i></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6 mb-4">
      <div class="card shadow mb-4">
        <div class="card-header py-3">
          <h6 class="text-primary font-weight-bold m-0">Upcoming Tests</h6>
        </div>
        {{i.Session_Name}}
        <ul class="list-group list-group-flush">
        {% for i in quiz %}

          <li class="list-group-item">
            <div class="row align-items-center no-gutters">
              <div class="col mr-2">
                <h6 class="mb-0"><strong>{{i.NameOfTest}}</strong></h6><span class="text-xs">{{ i.date }}</span>
              </div>
              <a class="align-items-right" href="{% url 'PreviewQuizWriting' slug=i.slug %}"><button class="btn btn-primary"
                type="button" style="margin-left: 0px;">Open</button></a>
              <div class="col-auto">
                <div class="custom-control custom-checkbox"><input class="custom-control-input" type="checkbox"
                    id="formCheck-1"><label class="custom-control-label" for="formCheck-1"></label></div>
              </div>
            </div>
          </li>
        {% endfor %}

        </ul>

      </div>
    </div>

    <div class="col-lg-5 col-xl-4">
      <div class="card shadow mb-4">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h6 class="text-primary font-weight-bold m-0">Revenue Sources</h6>
          <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown"
              aria-expanded="false" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
            <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
              <p class="text-center dropdown-header">dropdown header:</p><a class="dropdown-item"
                href="#">&nbsp;Action</a><a class="dropdown-item" href="#">&nbsp;Another action</a>
              <div class="dropdown-divider"></div><a class="dropdown-item" href="#">&nbsp;Something else
                here</a>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-area"><canvas
              data-bs-chart="{&quot;type&quot;:&quot;doughnut&quot;,&quot;data&quot;:{&quot;labels&quot;:[&quot;Direct&quot;,&quot;Social&quot;,&quot;Referral&quot;],&quot;datasets&quot;:[{&quot;label&quot;:&quot;&quot;,&quot;backgroundColor&quot;:[&quot;#4e73df&quot;,&quot;#1cc88a&quot;,&quot;#36b9cc&quot;],&quot;borderColor&quot;:[&quot;#ffffff&quot;,&quot;#ffffff&quot;,&quot;#ffffff&quot;],&quot;data&quot;:[&quot;50&quot;,&quot;30&quot;,&quot;15&quot;]}]},&quot;options&quot;:{&quot;maintainAspectRatio&quot;:false,&quot;legend&quot;:{&quot;display&quot;:false},&quot;title&quot;:{}}}"></canvas>
          </div>
          <div class="text-center small mt-4"><span class="mr-2"><i
                class="fas fa-circle text-primary"></i>&nbsp;Attended</span><span class="mr-2"><i
                class="fas fa-circle text-success"></i>&nbsp;Missed</span><span class="mr-2"><i
                class="fas fa-circle text-info"></i>&nbsp;Aced</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endif %}

{% if user.is_lecturer  or user.is_superuser  %}
<link rel="stylesheet" href="{% static 'assets/css/popup.css'%}">
<link rel="stylesheet"
  href="https://res.cloudinary.com/dxfq3iotg/raw/upload/v1569006288/BBBootstrap/choices.min.css?version=7.0.0">
<script
  src="https://res.cloudinary.com/dxfq3iotg/raw/upload/v1569006273/BBBootstrap/choices.min.js?version=7.0.0"></script>
  <script src="{% static 'assets/js/popup.js' %}"></script>

  <div class="modal show bd-example-modal-lg" data-backdrop="static" id="myModal" tabindex="-1" role="dialog"
  aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">

    <div class="modal-content">
      <button type="button" class="close ml-auto" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">Ã—</span>
      </button>
      <div class="form-group p-4">
        <div class="">
          <h2 class="text-center">Session Detail's</h2>
          <hr>

          <form autocomplete="off" class="form" role="form" action="" method="post">
            {%  csrf_token  %}

            <div class="col-lg-12 p-2 m-2">
              <label class="sr-only" for="inlineFormInputGroup">Username</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <div class="input-group-text">Session Name</div>
                </div>
                <input type="text" name="SessionName" class="form-control" id="inlineFormInputGroup"
                  placeholder="Enter the Name Of the session">
              </div>
            </div>

            <div class="form-row">
              <div class="col-md-6">
                <label for="validationDefault01">Choose Year</label>

                <select id="choices-multiple-remove-button" placeholder="Select upto 4 tags" multiple name="Branch">
                  <option value="First">First Year</option>
                  <option value="Second">Second Year</option>
                  <option value="Third">Third Year</option>
                  <option value="Fourth">Fourth Year</option>
                </select> </div>
              <div class="col-md-6 ">
                <label for="validationDefault02">Select the Branch</label>
                <select id="choices-multiple-remove-button" placeholder="Select upto 5 tags" multiple name="Year">
                  <option value="CIVIL">CIVIL</option>
                  <option value="EEE">EEE</option>
                  <option value="ECE">ECE</option>
                  <option value="MECH">MECH</option>
                  <option value="CSE">CSE</option>
                </select>
              </div>
            </div>
            <div class="form-row m-4">
              <div class="col-md-4">
                <label for="exampleFormControlSelect1">Type Of Exam</label>
                <select class="form-control" id="exampleFormControlSelect1" name="TypeOfExam"
                  placeholder="Type Of Exam">
                  <option>Quiz</option>
                  <option>Lab</option>
                </select>
              </div>
              <div class="col-md-4">
                <label for="exampleFormControlSelect1">Name of test</label>
                <input type="text" name="NameOfTest" class="form-control" id="inlineFormInputGroup"
                  placeholder="Enter the Name Of the session">
              </div>
              <div class="col-md-4">
                <label for="exampleFormControlInput1">Email address</label>
                <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
              </div>
            </div>

            <hr>
            <div class="form-group row m-2">
              <div class="col-md-6">
                <button class="btn btn-default btn-lg btn-block" type="reset">Cancel</button>
              </div>
              <div class="col-md-6">
                <button class="btn btn-success btn-lg btn-block" type="submit" name="popup1"
                  value="popup1">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="card">

  <div class=" card-header p-0 m-0">
    <p class="p-0 m-0">
    <h1 class="p-4 m-0"><strong> Detail's Of Session<br></strong>
      <h4>(Created)</h4>
    </h1><br>
    <div class="form-inline">
      <h4>Please refill the session details if want to get a new session</h4>
      <button type="button" class="btn btn-outline-dark m-4" data-toggle="modal"
        data-target=".bd-example-modal-lg">Please Fill session Details</button></p>
    </div>
  </div>
  {% for i in session %}
  <div class="card-body">
    <form class="form-inline row" class="form" role="form" action="" method="post">
      {%  csrf_token  %}
      <div class="form-group mb-2">
        {% if i.role == 'Q' %}
        <input type="text" data-toggle="modal" data-target="#exampleModalCenter" readonly class="form-control-plaintext"
          id="staticEmail2" value={{i.NameOfTest}}(QUIZ) name="Session Link">
        {% else %}
        <input type="text" data-toggle="modal" data-target="#exampleModalCenter" readonly class="form-control-plaintext"
          id="staticEmail2" value={{i.NameOfTest}}(LAB) name="Session Link">
        {% endif %}
      </div>


      <div class="ml-auto " >
        <button type="submit" name="start" value="{{i.NameOfTest}}" class="btn btn-outline-success p-2 m-2 btn-lg"> Start </button>
        <button type="submit" name="stop" value="{{i.NameOfTest}}" class="btn btn-outline-danger p-2 m-2 btn-lg"> Stop </button>
        <a href="{% url 'EditQuiz' slug=i.slug %}" type="submit"  class="btn btn-outline-dark btn-lg" > Edit Quiz </a>
      </div>
    </form>
  </div>
  {% endfor %}

</div>
</div>



<div class="input-group date" data-provide="datepicker">
  <!-- <input type="text" class="form-control"> -->
  <div class="input-group-addon">
    <span class="glyphicon glyphicon-th"></span>
  </div>
</div>
<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
    Launch demo modal
  </button> -->

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <html>

        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <title>Bootstrap 4 DatePicker</title>
          <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
          <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
          <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
        </head>
        <form form method="post" enctype="multipart/form-data">
          {%  csrf_token  %}

          <body class="text-center ">
            <div class="input-group input-group-sm mb-2 mx-auto">

              <input class="text-center mx-auto text-center" id="datepicker" width="400" name="testname" />
            </div>
            <script>
              $('#datepicker').datepicker({
                uiLibrary: 'bootstrap4'
              });
            </script>
          </body>

        </html>
        <div class="input-group-addon ">
          <span class="glyphicon glyphicon-th "></span>
        </div>

        <body class="text-center ml-auto">
          <div class="input-group input-group-sm mb-2 ml-right">

          </div>
          <script>
            $('#datepicker').datepicker({
              uiLibrary: 'bootstrap4'
            });
          </script>
        </body>
        <div class="ml-auto ">
          <button type="submit" class="btn btn-outline-secondary btn-lg"> Create </button>
          <button type="submit" class="btn btn-outline-dark btn-lg"> Edit </button>
        </div>
        <!-- <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile" name="myfile">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div> -->
      </div>
      <!-- <input type="text " class="form-control "> -->

      <div class="modal-footer ml-auto">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary" name="filepopup">Save changes</button>
      </div>
      </form>
    </div>
  </div>
</div>

<script src="{% static 'assets/js/cal.js' %}"></script>
{% endif %}
{% endblock content %}